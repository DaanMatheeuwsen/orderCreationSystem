<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OCS</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="loader.css">
    <link rel="icon" href="./favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
        crossorigin="anonymous" referrerpolicy="no-referrer" />

</head>

<body>
    <div class="fields">
        <div class="unmappedFields">
            <div class="unmappedFieldsTitle">Unmapped fields</div>
            <hr class="fieldBorder">
            <div class="Orderinfo">
                <div class="unmappedFieldsView">
                    <div class="fieldValueBorder">
                        <div class="unmappedTitle">Order information</div>
                        <div class="unmappedTitle">4 &#9660;</div>
                    </div>
                </div>
                <hr class="medium-small">
            </div>
            <div class="panel">
                <div class="panelWrap">
                    <div class="orderBubble"></div>
                    <div class="orderBubble"></div>
                    <div class="orderBubble"></div>
                    <div class="orderBubble "></div>
                </div>
            </div>
            <div class="Orderinfo">
                <div class="unmappedFieldsView">
                    <div class="fieldValueBorder">
                        <div class="unmappedTitle">Contact information</div>
                        <div class="unmappedTitle">4 &#9660;</div>
                    </div>
                </div>
                <hr class="medium-small">
            </div>
            <div class="panel">
                <div class="panelWrap">
                    <div class="orderBubble"></div>
                    <div class="orderBubble"></div>
                    <div class="orderBubble"></div>
                    <div class="orderBubble"></div>
                </div>
            </div>
            <div class="Orderinfo">
                <div class="unmappedFieldsView">
                    <div class="fieldValueBorder">
                        <div class="unmappedTitle">Loading information</div>
                        <div class="unmappedTitle">2 &#9660;</div>
                    </div>
                </div>
                <hr class="medium-small">
            </div>
            <div class="panel">
                <div class="panelWrap">
                    <div class="orderBubble"></div>
                    <div class="orderBubble"></div>
                </div>
            </div>
            <div class="Orderinfo">
                <div class="unmappedFieldsView">
                    <div class="fieldValueBorder">
                        <div class="unmappedTitle">Unloading information</div>
                        <div class="unmappedTitle">0 &#9660;</div>
                    </div>
                </div>
                <hr class="medium-small">
            </div>
            <div class="panel">

            </div>
            <div class="Orderinfo">
                <div class="unmappedFieldsView">
                    <div class="fieldValueBorder">
                        <div class="unmappedTitle">Goods</div>
                        <div class="unmappedTitle">0 &#9660;</div>
                    </div>
                </div>
                <hr class="medium-small">
            </div>
            <div class="panel">

            </div>
            <div class="Orderinfo">
                <div class="unmappedFieldsView">
                    <div class="fieldValueBorder">
                        <div class="unmappedTitle">Trucks</div>
                        <div class="unmappedTitle">0 &#9660;</div>
                    </div>
                </div>
                <hr class="medium-small">
            </div>
            <div class="panel">

            </div>
        </div>
        <div class="mappedFields">
            <div class="unmappedFieldsTitle">Mapped fields</div>
            <hr class="fieldBorder">
            <div class="Orderinfo" data-property="Order Information">
                <div class="unmappedFieldsView">
                    <div class="fieldValueBorder">
                        <div class="unmappedTitle">Order information / Contact information</div>
                        <div class="unmappedTitle"> &#9660;</div>
                    </div>
                </div>
                <hr class="medium-small">
            </div>
            <div class="panel">
                <div class="panelWrap">
                    <div class="orderBubbleWrap">
                        <div class="orderBubbleTitle">Booking Number </div>
                        <div class="orderBubble">
                            <div class="orderBubbleText" data-property="Booking Number"></div>
                        </div>
                    </div>
                    <div class="orderBubbleWrap">
                        <div class="orderBubbleTitle">Invoice Reference </div>
                        <div class="orderBubble">
                            <div class="orderBubbleText" data-property="Invoice Reference"></div>
                        </div>
                    </div>
                    <div class="orderBubbleWrap">
                        <div class="orderBubbleTitle">Company name </div>
                        <div class="orderBubble">
                            <div class="orderBubbleText" data-property="Company Name"></div>
                        </div>
                    </div>
                    <div class="orderBubbleWrap">
                        <div class="orderBubbleTitle">Contact person </div>
                        <div class="orderBubble">
                            <div class="orderBubbleText" data-property="Contact Person"></div>
                        </div>
                    </div>
                    <div class="orderBubbleWrap">
                        <div class="orderBubbleTitle">E-mail Address </div>
                        <div class="orderBubble">
                            <div class="orderBubbleText" data-property="E-mail Address"></div>
                        </div>
                    </div>
                    <div class="orderBubbleWrap">
                        <div class="orderBubbleTitle">Phone number </div>
                        <div class="orderBubble">
                            <div class="orderBubbleText" data-property="Phone Number"></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="Orderinfo" data-property="Loading Information">
                <div class="unmappedFieldsView">
                    <div class="fieldValueBorder">
                        <div class="unmappedTitle">Loading information</div>
                        <div class="unmappedTitle"> &#9660;</div>
                    </div>
                </div>
                <hr class="medium-small">
            </div>
            <div class="panel" id="loading-panel">
                <div class="panelWrap">
                    <div class="orderBubbleWrap">
                        <div class="orderBubbleTitle">Name </div>
                        <div class="orderBubble">
                            <div class="orderBubbleText" data-property="Name"></div>
                        </div>
                    </div>
                    <div class="orderBubbleWrap">
                        <div class="orderBubbleTitle">Street + housenumber </div>
                        <div class="orderBubble">
                            <div class="orderBubbleText" data-property="Street + housenumber"></div>
                        </div>
                    </div>
                    <div class="orderBubbleWrap">
                        <div class="orderBubbleTitle">Country code </div>
                        <div class="orderBubble">
                            <div class="orderBubbleText" data-property="Country code"></div>
                        </div>
                    </div>
                    <div class="orderBubbleWrap">
                        <div class="orderBubbleTitle">Postal code </div>
                        <div class="orderBubble">
                            <div class="orderBubbleText" data-property="Postal code"></div>
                        </div>
                    </div>
                    <div class="orderBubbleWrap">
                        <div class="orderBubbleTitle">City</div>
                        <div class="orderBubble">
                            <div class="orderBubbleText" data-property="City"></div>
                        </div>
                    </div>
                    <div class="orderBubbleWrap">
                        <div class="orderBubbleTitle">Req. loading date from</div>
                        <div class="orderBubble">
                            <div class="orderBubbleText" data-property="Req. loading date from"></div>
                        </div>
                    </div>
                    <div class="orderBubbleWrap">
                        <div class="orderBubbleTitle">Requested loading time</div>
                        <div class="orderBubble">
                            <div class="orderBubbleText" data-property="Requested loading time"></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="Orderinfo" data-property="Unloading Information">
                <div class="unmappedFieldsView">
                    <div class="fieldValueBorder">
                        <div class="unmappedTitle">Unloading information</div>
                        <div class="unmappedTitle"> &#9660;</div>
                    </div>
                </div>
                <hr class="medium-small">
            </div>
            <div class="panel" id="unloading-panel">
                <div class="panelWrap">
                    <div class="orderBubbleWrap">
                        <div class="orderBubbleTitle">Name </div>
                        <div class="orderBubble">
                            <div class="orderBubbleText" data-property="Name"></div>
                        </div>
                    </div>
                    <div class="orderBubbleWrap">
                        <div class="orderBubbleTitle">Street + housenumber </div>
                        <div class="orderBubble">
                            <div class="orderBubbleText" data-property="Street + housenumber"></div>
                        </div>
                    </div>
                    <div class="orderBubbleWrap">
                        <div class="orderBubbleTitle">Country code </div>
                        <div class="orderBubble">
                            <div class="orderBubbleText" data-property="Country code"></div>
                        </div>
                    </div>
                    <div class="orderBubbleWrap">
                        <div class="orderBubbleTitle">Postal code </div>
                        <div class="orderBubble">
                            <div class="orderBubbleText" data-property="Postal code"></div>
                        </div>
                    </div>
                    <div class="orderBubbleWrap">
                        <div class="orderBubbleTitle">City</div>
                        <div class="orderBubble">
                            <div class="orderBubbleText" data-property="City"></div>
                        </div>
                    </div>
                    <div class="orderBubbleWrap">
                        <div class="orderBubbleTitle">Req. unloading date from</div>
                        <div class="orderBubble">
                            <div class="orderBubbleText" data-property="Req. unloading date from"></div>
                        </div>
                    </div>
                    <div class="orderBubbleWrap">
                        <div class="orderBubbleTitle">Requested unloading time</div>
                        <div class="orderBubble">
                            <div class="orderBubbleText" data-property="Requested unloading time"></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="Orderinfo" data-property="Goods Information">
                <div class="unmappedFieldsView">
                    <div class="fieldValueBorder">
                        <div class="unmappedTitle">Goods</div>
                        <div class="unmappedTitle">&#9660;</div>
                    </div>
                </div>
                <hr class="medium-small">
            </div>
            <div class="panel">
                <div class="panelWrap">
                    <div class="orderBubbleWrap">
                        <div class="orderBubbleTitle">Quantity </div>
                        <div class="orderBubble">
                            <div class="orderBubbleText" data-property="Quantity"></div>
                        </div>
                    </div>
                    <div class="orderBubbleWrap">
                        <div class="orderBubbleTitle">Ship unit</div>
                        <div class="orderBubble">
                            <div class="orderBubbleText" data-property="Ship unit"></div>
                        </div>
                    </div>
                    <div class="orderBubbleWrap">
                        <div class="orderBubbleTitle">Weight</div>
                        <div class="orderBubble">
                            <div class="orderBubbleText" data-property="Weight"></div>
                        </div>
                    </div>
                    <div class="orderBubbleWrap">
                        <div class="orderBubbleTitle">Length </div>
                        <div class="orderBubble">
                            <div class="orderBubbleText" data-property="Length"></div>
                        </div>
                    </div>
                    <div class="orderBubbleWrap">
                        <div class="orderBubbleTitle">Width</div>
                        <div class="orderBubble">
                            <div class="orderBubbleText" data-property="Width"></div>
                        </div>
                    </div>
                    <div class="orderBubbleWrap">
                        <div class="orderBubbleTitle">Height</div>
                        <div class="orderBubble">
                            <div class="orderBubbleText" data-property="Height"></div>
                        </div>
                    </div>
                    <div class="orderBubbleWrap">
                        <div class="orderBubbleTitle">Description</div>
                        <div class="orderBubble">
                            <div class="orderBubbleText" data-property="Description"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="Orderinfo" data-property="Truck">
                <div class="unmappedFieldsView">
                    <div class="fieldValueBorder">
                        <div class="unmappedTitle">Trucks</div>
                        <div class="unmappedTitle"> &#9660;</div>
                    </div>
                </div>
                <hr class="medium-small">
            </div>
            <div class="panel">
                <div class="panelWrap">
                    <div class="orderBubbleWrap">
                        <div class="orderBubbleTitle">Trailer type</div>
                        <div class="orderBubble">
                            <div class="orderBubbleText" data-property="Trailer type"></div>
                        </div>
                    </div>
                    <div class="orderBubbleWrap">
                        <div class="orderBubbleTitle">Load/Unloading information</div>
                        <div class="orderBubble">
                            <div class="orderBubbleText" data-property="Load/Unloading information"></div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
    </div>
    </div>
    <script>
        // Function to handle drag start event
        function dragStart(event) {
            draggedBubble = event.target;
        }

        // Function to handle drag over event
        function dragOver(event) {
            event.preventDefault();
        }

        // Function to handle drop event
        function drop(event) {
            event.preventDefault();
            const targetBubble = event.target;

            // Ensure that the target is a valid drop zone and not the dragged bubble itself
            if (targetBubble.classList.contains('orderBubble') && draggedBubble !== targetBubble) {
                // Swap the innerHTML of the dragged bubble and the target bubble
                const temp = draggedBubble.innerHTML;
                draggedBubble.innerHTML = targetBubble.innerHTML;
                targetBubble.innerHTML = temp;
            }
        }

        if (!window.orderBubbles) {
            const orderBubbles = document.querySelectorAll('.orderBubble');
            orderBubbles.forEach(bubble => {
                bubble.setAttribute('draggable', true);
                bubble.addEventListener('dragstart', dragStart);
            });
        }


        if (!window.mappedFields) {
            const mappedFields = document.querySelectorAll('.mappedFields');
            mappedFields.forEach(field => {
                field.addEventListener('dragover', dragOver);
                field.addEventListener('drop', drop);
            });
        }
    </script>

    <script>
        var acc = document.getElementsByClassName("Orderinfo");
        var i;

        // Function to toggle the accordion
        function toggleAccordion() {
            this.classList.toggle("active");
            var panel = this.nextElementSibling;
            if (panel.style.maxHeight) {
                panel.style.maxHeight = null;
            } else {
                panel.style.maxHeight = panel.scrollHeight + "px";
            }
        }

        // Loop through each accordion element
        for (i = 0; i < acc.length; i++) {
            // Add event listener to toggle accordion on click
            acc[i].addEventListener("click", toggleAccordion);

            // Trigger the click event on each accordion element
            toggleAccordion.call(acc[i]);
        }
    </script>
    <script>
        // Fetching the JSON file
        fetch('Table-Order-Request.json')
            .then(response => response.json())
            .then(data => {
                // Extracting the data from the JSON
                const orderInformation = data['Order Information'][0];
                const contactInformation = data['Contact Information BILL-TO'][0];
                const loadingInformation = data['Loading information'][0];
                const unloadingInformation = data['Unloading Information'][0];
                const goodsInformation = data['Goods-Information'][0];
                const truckInformation = data['Truck'][0];

                // Selecting the order bubble texts
                const orderBubbleTexts = document.querySelectorAll('.orderBubbleText');

                // Looping through each order bubble text
                orderBubbleTexts.forEach((bubbleText) => {
                    // Matching the bubble text with the corresponding property in the JSON
                    const property = bubbleText.getAttribute('data-property');

                    // Finding the corresponding value in the JSON data
                    let value;
                    switch (property) {
                        case 'Booking Number':
                        case 'Agreed Tariff':
                        case 'Invoice Reference':
                            value = orderInformation[property];
                            break;
                        case 'Company Name':
                        case 'Contact Person':
                        case 'E-mail Address':
                        case 'Phone Number':
                            value = contactInformation[property];
                            break;
                        case 'Name':
                        case 'Street + housenumber':
                        case 'Country code':
                        case 'Postalcode':
                        case 'City':
                        case 'Req. loading date from':
                        case 'Req. loading time':
                            value = loadingInformation[property];
                            break;
                        case 'Name':
                        case 'Street + housenumber':
                        case 'Country code':
                        case 'Postalcode':
                        case 'City':
                        case 'Req. loading date from':
                        case 'Req. loading time':
                            value = unloadingInformation[property];
                            break;
                        case 'Quantity':
                        case 'Ship unit':
                        case 'Weight per ship unit':
                        case 'Total weight':
                        case 'Length':
                        case 'Width':
                        case 'Height':
                        case 'Stackable':
                        case 'Description':
                            value = data['Goods'].map(good => good[property]).join(', ');
                            break;
                        case 'Palletexchange':
                        case 'ADR':
                        case 'ADR code':
                        case 'A-sign / waste registration':
                        case 'Safety equipment':
                        case 'Insurance next to CMR conditions':
                        case 'Temperature':
                        case 'Min. Temp':
                        case 'Max. temp':
                            value = goodsInformation[property];
                            break;
                        case 'Trailer type':
                        case 'Load/Unloading information':
                        case 'Licenseplate required':
                        case 'Remark':
                            value = truckInformation[property];
                            break;
                        default:
                            value = '';
                    }

                    // Filling the bubble text with the property name and its corresponding value
                    bubbleText.innerHTML = `<strong>${property}:</strong> ${value}`;

                    // Logging the match
                });
            })
            .catch(error => console.error('Error fetching JSON:', error));
    </script>
</body>

</html>